name: Build & Upload iOS (Unity Offline)

on:
  workflow_dispatch:

jobs:
  build-ios:
    runs-on: macos-latest
    env:
      UNITY_VERSION: 2022.3.62f2
      PROJECT_PATH: .
      BUILD_PATH: build/iOS
      APP_NAME: "V's æ¥é¾"
      BUNDLE_ID: com.highlight.solitaire
      APP_VERSION: 20251107

    steps:
      - uses: actions/checkout@v4

      - name: Build iOS Project
        uses: game-ci/unity-builder@v4
        with:
          targetPlatform: iOS
          unityVersion: ${{ env.UNITY_VERSION }}
          projectPath: ${{ env.PROJECT_PATH }}
          outputDirectory: ${{ env.BUILD_PATH }}
          buildName: ${{ env.APP_NAME }}
          version: ${{ env.APP_VERSION }}
          bundleIdentifier: ${{ env.BUNDLE_ID }}
          allowDirtyBuild: true
          buildMethod: ""
          unityLicense: ${{ secrets.UNITY_LICENSE }}
          unityLicenseFile: true     # ğŸ‘ˆ å‘Šè¨´ GameCIï¼šé€™æ˜¯ Base64 ç·¨ç¢¼çš„æˆæ¬Šæª”æ¡ˆ
